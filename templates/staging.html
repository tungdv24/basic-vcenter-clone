<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<title>Staging - Converted CSV</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>

.table-container{
max-height:75vh;
overflow:auto;
border:1px solid #ccc;
border-radius:6px;
}

/* Sticky header */
thead th{
position:sticky;
top:0;
background:#f8f9fa;
z-index:5;
}

/* Better CSV readability */
table{
font-size:14px;
}

td, th{
white-space:nowrap;
border:1px solid #dee2e6 !important;
padding:6px 10px !important;
}

/* Row zebra */
tbody tr:nth-child(even){
background:#fafafa;
}

/* Hover highlight */
tbody tr:hover{
background:#e9f3ff;
}

</style>

</head>

<body>

<nav class="navbar navbar-dark bg-primary">

<div class="container-fluid">

<span class="navbar-brand">

Staging - Converted CSV Preview

</span>

<div class="text-white">

{{ session.username }}

<a href="/index" class="btn btn-light btn-sm ms-3">
Back
</a>

<a href="/logout" class="btn btn-light btn-sm ms-2">
Logout
</a>

</div>

</div>

</nav>



<div class="container mt-4">

<div class="d-flex justify-content-between mb-3">

<div>

<h5>Converted CSV Preview</h5>

<div class="text-muted">

Rows: <b>{{ rows|length }}</b> |
Columns: <b>{{ columns|length }}</b>

</div>

</div>

<div>

<a href="{{ download_url }}" class="btn btn-outline-secondary">

Download CSV

</a>

<form method="POST"
action="{{ confirm_url }}"
style="display:inline">

<button class="btn btn-success">

Confirm & Deploy

</button>

</form>

</div>

</div>



<div class="card shadow">

<div class="card-body p-2">


<div class="table-container">

<table class="table table-bordered table-sm mb-0">

<thead>

<tr>

<th>#</th>

{% for col in columns %}

<th>

{{ col }}

</th>

{% endfor %}

</tr>

</thead>


<tbody>

{% for row in rows %}

<tr>

<td>

{{ loop.index }}

</td>

{% for col in columns %}

<td>

{{ row[col] }}

</td>

{% endfor %}

</tr>

{% endfor %}

</tbody>

</table>

</div>

</div>

</div>

</div>

</body>
</html>